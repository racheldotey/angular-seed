<div class="page venue dashboard">
    <div class="page-header">
        <h1>Venue Dashboard</h1>
    </div>
    
    <div data-rc-bootstrap-alerts="alertProxy"></div>
    
    <form ng-if="!editGeneralMode" class="form-horizontal">
        <div class="row">
            <div class="col-xs-12 col-sm-3 col-md-4 align-center">
                <img src="{{user.venueLogo}}"
                     class="img-responsive img-thumbnail top" />
            </div>
            <div class="col-xs-12 col-sm-9 col-md-8">
                <div class="form-group text-right">
                    <div class="col-xs-12">
                        <button ng-if="!editGeneralMode" ng-click="buttonShowGeneralEdit()" type="button" class="btn btn-primary">Edit Info</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="venue" class="col-sm-3 control-label">Joint Name</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">{{user.venue}} </p>
                    </div>
                </div>

                <div class="form-group">
                    <label for="nameFirst" class="col-sm-3 control-label">First Name</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">{{user.nameFirst}} </p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="nameLast" class="col-sm-3 control-label">Last Name</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">{{user.nameLast}} </p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="email" class="col-sm-3 control-label">Email</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">{{user.email}} </p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="address" class="col-sm-3 control-label">Address 1</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">{{user.address}} </p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="address" class="col-sm-3 control-label">Address 2</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">{{user.addressb}} </p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="city" class="col-sm-3 control-label">City</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">{{user.city}}   </p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="state" class="col-sm-3 control-label">State</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">{{user.state}}   </p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="zip" class="col-sm-3 control-label">Zip</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">{{user.zip}}   </p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="phone" class="col-sm-3 control-label">Phone</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">{{user.phone}}  Ext. {{user.phoneExtension}}   </p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="website" class="col-sm-3 control-label">Website</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">{{user.website}}   </p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="facebook" class="col-sm-3 control-label">Facebook Page</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">{{user.facebook}}   </p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="hours" class="col-sm-3 control-label">Trivia Days & Hours</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">{{user.triviaDay}} {{user.triviaTime}} </p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="referralCode" class="col-sm-3 control-label">Referral Code</label>
                    <div class="col-sm-9">
                        <p class="form-control-static">{{user.referralCode}}   </p>
                    </div>
                </div>
            </div>
        </div>
    </form>

    <form ng-if="editGeneralMode" name="form.general" class="form-horizontal">
        <div data-rc-bootstrap-alerts="generalFormAlerts"></div>
        <div class="form-group row">
            <div class="col-xs-12">
                <input ng-model="editingUser.venue" type="text" class="form-control" name="venue" placeholder="Joint Name" maxlength="255" required>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-xs-6">
                <input ng-model="editingUser.nameFirst" type="text" class="form-control" name="nameFirst" placeholder="Contact First Name" maxlength="255" required>
            </div>

            <div class="col-xs-6">
                <input ng-model="editingUser.nameLast" type="text" class="form-control" name="nameLast" placeholder="Contact Last Name" maxlength="255" required>
            </div>
        </div>

        <div class="form-group row">
            <div class="col-xs-12">
                <input ng-model="editingUser.email" type="email" ng-pattern="/^\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/" class="form-control" name="email" placeholder="Contact Email" maxlength="255" readonly>
            </div>
        </div>

        <div ng-if="showPasswordRules" class="form-group">
            <div class="alert alert-warning" role="alert">
                <p><strong>Passwords Must:</strong></p>
                <ul>
                    <li>Be at least 8 characters in length.</li>
                    <li>Contain at least one letter and number.</li>
                </ul>
            </div>
        </div>

        <div class="form-group row">

            <div ng-if="showPasswordMissmatch" class="col-xs-12 form-group">
                <div class="alert alert-warning" role="alert">
                    <p>Passwords must match</p>
                </div>
            </div>

            <div class="col-xs-6">
                <input ng-model="editingUser.password"
                       ng-blur="onChangeValidatePassword()"
                       type="password" class="form-control" name="password" placeholder="Contact Password" maxlength="100">
            </div>

            <div class="col-xs-6">
                <input ng-model="editingUser.passwordB"
                       ng-change="onChangeValidateConfirmPassword()"
                       type="password" class="form-control" name="passwordB" placeholder="Confirm Contact Password" maxlength="100">
            </div>
        </div>
        <div class="form-group row">
            <div class="col-xs-12">
                <input ng-model="editingUser.address" type="text" class="form-control" name="address" placeholder="Joint Address" maxlength="255" required>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-xs-12">
                <input ng-model="editingUser.addressb" type="text" class="form-control" name="addressb" placeholder="Joint Address Con't" maxlength="255">
            </div>
        </div>
        <div class="form-group row">
            <div class="col-xs-6">
                <input ng-model="editingUser.city" type="text" class="form-control" name="city" placeholder="Joint City" maxlength="255" required>
            </div>
            <div class="col-xs-3">
                <select rc-drop-down-states ng-model="editingUser.state" class="form-control" required>
                    <option value="">State</option>
                </select>
            </div>
            <div class="col-xs-3">
                <input ng-model="editingUser.zip" type="text" class="form-control" name="zip" placeholder="Zip" maxlength="255" required>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-xs-8">
                <input type="text" class="form-control" placeholder="Joint Phone" ng-model="editingUser.phone" ui-mask="(999) 999-9999" ui-mask-placeholder ui-mask-placeholder-char="_"  ui-options="{clearOnBlur: false}" ng-model-options="{ updateOn: 'blur' }" ng-change="handlePhoneChangeEvent(editingUser.phone)" required />
            </div>
            <div class="col-xs-4">
                <input type="text" class="form-control" placeholder="Ext" ng-model="editingUser.phoneExtension"  />
            </div>
        </div>
        <div ng-if="showPhoneValidation" class="form-group">
            <div class="col-xs-12">
                <div class="alert alert-warning" role="alert">
                    <p>Phone Number is Invalid.</p>
                </div>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-xs-12">
                <input ng-model="editingUser.website" class="form-control" name="website" placeholder="Joint Website (http://...)" maxlength="255" type="url" url-input>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-xs-12">
                <input ng-model="editingUser.facebook" class="form-control" name="facebook" placeholder="Joint Facebook Page (http://...)" maxlength="255" type="url" url-input>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-xs-6" style="padding-top:24px;">
                <select rc-drop-down-days ng-model="editingUser.triviaDay" class="form-control" required>
                    <option value="">Trivia Day</option>
                </select>
            </div>
            <div class="col-xs-6">
                <uib-timepicker ng-model="editingUser.triviaTimeDate" hour-step="1" minute-step="15" show-meridian="true"></uib-timepicker>
            </div>
        </div>
        <div class="form-group row">
            <div class="col-xs-12">
                <input ng-model="editingUser.referralCode" type="text" class="form-control" name="referralCode" placeholder="Referral Code" maxlength="255">
            </div>
        </div>

        <div rc-image-upload-with-editor="venueLogo"
             saved-image-data-url="savedImageDataUrl"
             data-label-input="Upload Venue Logo"
             data-label-browse-button="Select Logo"
             data-label-crop-area="Crop Your Logo"
             data-label-crop-preview="Logo Preview"></div>


        <div data-rc-bootstrap-alerts="generalFormAlerts"></div>
        <div class="form-group text-right">
            <div class="col-xs-12">
                <button ng-click="buttonCancel()" type="button" class="btn btn-default">Cancel</button>
                <button ng-click="buttonSave()" type="button" class="btn btn-primary">Save</button>
            </div>
        </div>
    </form>
</div>
